1. Get the application URL by running these commands:
{{- if .Values.ingress.enabled }}
  https://{{ index .Values.ingress.hosts 0 "host" }}
{{- else if contains "NodePort" .Values.app.service.type }}
  export NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath="{.spec.ports[0].nodePort}" services {{ include "actual-assist.fullname" . }})
  export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath="{.items[0].status.addresses[0].address}")
  echo http://$NODE_IP:$NODE_PORT
{{- else if contains "LoadBalancer" .Values.app.service.type }}
  NOTE: It may take a few minutes for the LoadBalancer IP to be available.
  kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include "actual-assist.fullname" . }}
{{- else if contains "ClusterIP" .Values.app.service.type }}
  kubectl port-forward --namespace {{ .Release.Namespace }} svc/{{ include "actual-assist.fullname" . }} 3000:{{ .Values.app.service.port }}
  Then access the application at http://localhost
{{- end }}

2. Verify the deployments:
  kubectl get deployments --namespace {{ .Release.Namespace }}

3. View logs:
  kubectl logs -f --namespace {{ .Release.Namespace }} deployment/{{ include "actual-assist.fullname" . }}

4. Required secrets to configure before using:
  - OPENAI_API_KEY (from OpenAI)
  - ACTUAL_SERVER_URL (Actual Budget server endpoint)
  - ACTUAL_PASSWORD (Actual Budget password)
  - ACTUAL_BUDGET_ID (optional, for POC single-budget mode)

  Update these in values.yaml secrets section or use helm --set flags:
  helm upgrade {{ .Release.Name }} . --set secrets.openaiApiKey="sk-..." --set secrets.actualServerUrl="..." --set secrets.actualPassword="..."
